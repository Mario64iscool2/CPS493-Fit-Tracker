{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "title":"Workout",
    "description": "A workout post",
    "additionalProperties": false,
    "type":"object",
    "properties": {
        "workouts":{
            "type":"array",
            "minItems":1,
            "uniqueItems": true,
            "items": {
                "workout": {
                    "type":"object",
                    "required":["id","creator","postTime","msg","discipline"],
                    "properties": {
                        "id":{
                            "description": "The numerical post ID. Hidden",
                            "type":"integer"
                        },
                        "creator":{
                            "description": "Metadata about the post creator",
                            "type":"object",
                            "required":["id","firstName","lastName","username"],
                            "properties": {
                                "id":{
                                    "description": "The user ID number of the poster.",
                                    "type": "integer"
                                },
                                "firstName":{
                                    "description": "The first name of the poster.",
                                    "type":"string"
                                },
                                "lastName":{
                                    "description": "The last name of the poster.",
                                    "type":"string"
                                },
                                "username":{
                                    "description": "The username of the poster.",
                                    "type":"string"
                                }
                            }
                        },
                        "postTime":{
                            "description": "The date string of posting.",
                            "type":"string",
                            "format":"date-time"
                        },
                        "msg":{
                            "description": "The attached message for this post.",
                            "type":"string"
                        },
                        "duration":{
                            "description": "The time (in minutes) spent exercising.",
                            "type":"integer"
                        },
                        "discipline" : { "enum": ["biking", "climbing","hiking","running","swimming","walking","weightlifting"] },
                        "oneOf": [
                            {
                                "discipline" : { "const" : "climbing" },
                                "elevation":{
                                    "description": "The vertical distance (in meters) travelled.",
                                    "type":"number"
                                }
                            },
                            {
                                
                                "discipline" : { "const" : ["biking","climbing","hiking","swimming","walking"] },
                                "distance":{
                                    "description": "The distance (in meters) travelled laterally.",
                                    "type":"number"
                                }
                            },
                            {
                                    "discipline" : { "const" : "weightlifting" },
                                    "weight":{
                                        "description": "The weight lifted (in kilograms)",
                                        "type":"number"
                                    },
                                    "reps":{
                                        "description": "The number of repetitions performed",
                                        "type":"integer"
                                    }
                            }
                        ]
                        }
                }
            }
        }
    }
    
}